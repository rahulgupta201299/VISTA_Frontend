{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web_Page\\\\vista\\\\Frontend\\\\src\\\\App.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useLocation, Switch, Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport AppRoute from './utils/AppRoute';\nimport ScrollReveal from './utils/ScrollReveal';\nimport ReactGA from 'react-ga';\nimport About from './my_components/About/About';\nimport Header from './components/layout/Header';\nimport Contact from './my_components/Contact/Contact';\nimport { setCurrentUser, createDB } from './my_components/redux/user/user-actions';\nimport { setVerify, setID, setTimeOut, Email } from './my_components/redux/userError/userError-actions';\nimport Payment from './my_components/PaymentGateway/Payment';\nimport Profile from './my_components/Profile/Profile';\nimport InfoBulletin from './my_components/InfoBulletin/InfoBulletin'; // Layouts\n\nimport LayoutDefault from './layouts/LayoutDefault';\nimport swal from 'sweetalert'; // Views \n\nimport Home from './views/Home';\nimport Signin from './my_components/Signin/Signin';\nimport { auth, firestore } from './my_components/Firebase/FirebaseSTUD'; // Initialize Google Analytics\n\nReactGA.initialize(process.env.REACT_APP_GA_CODE);\n\nconst trackPage = page => {\n  ReactGA.set({\n    page\n  });\n  ReactGA.pageview(page);\n};\n\nconst App = ({\n  dispatch,\n  currentUser,\n  timeout,\n  userAs,\n  ID,\n  history\n}) => {\n  const childRef = useRef();\n  let location = useLocation();\n  useEffect(() => {\n    const page = location.pathname;\n    document.body.classList.add('is-loaded');\n    childRef.current.init();\n    trackPage(page); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location]);\n  useEffect(() => {\n    var username = userAs;\n    auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        if (auth.currentUser.emailVerified) {\n          firestore.doc(`${username}/${ID}`).onSnapshot(snapshot => {\n            dispatch(setCurrentUser({\n              id: snapshot.id,\n              ...snapshot.data()\n            }));\n          });\n          dispatch(setVerify(false));\n          dispatch(Email(auth.currentUser.email));\n        } else {\n          auth.currentUser.sendEmailVerification();\n          auth.signOut();\n          dispatch(setID(\"abcd\"));\n          dispatch(setVerify(true));\n          dispatch(Email('abcd'));\n        }\n      } else dispatch(setCurrentUser(userAuth));\n    });\n  }, []);\n  /* useEffect(()=>{\r\n       auth.onAuthStateChanged(async userAuth=>{\r\n         if(userAuth){\r\n           if(auth.currentUser.emailVerified){\r\n             var today=new Date()\r\n             var hour=parseInt(today.getHours())\r\n             var newHour=0\r\n             if(timeout==-1) newHour=hour+2\r\n             else newHour=timeout+2\r\n             if(newHour>=24) newHour-=24\r\n             if(newHour>=12) newHour-=12\r\n             if(hour>=12) hour-=12\r\n             if(newHour<=hour){\r\n               swal(\"TimeOut Error!\", \" Please Login Again\", \"warning\").then(res=>{\r\n                 window.location.reload()\r\n               })\r\n               auth.signOut()\r\n               dispatch(setID(\"abcd\"))\r\n               dispatch(Email('abcd'))\r\n               dispatch(setTimeOut(-1))\r\n               history.push('/signup')\r\n             }\r\n             else{\r\n               console.log(\"yesssssssssssssssssssssss\",hour,\" \",newHour)\r\n               dispatch(setTimeOut(hour))\r\n             }\r\n           }\r\n         }\r\n       })\r\n   },[])*/\n\n  return /*#__PURE__*/React.createElement(ScrollReveal, {\n    ref: childRef,\n    children: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n      navPosition: \"right\",\n      className: \"reveal-from-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/about\",\n      component: About,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/contact\",\n      component: Contact,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/signup\",\n      component: Signin,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/profile\",\n      component: Profile,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/checkout\",\n      component: Payment,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AppRoute, {\n      exact: true,\n      path: \"/bulletin\",\n      component: InfoBulletin,\n      layout: LayoutDefault,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  });\n};\n\nconst mapStateToProps = state => ({\n  currentUser: state.user.currentUser,\n  createData: state.user.createData,\n  userAs: state.userError.userAs,\n  ID: state.userError.userID,\n  timeout: state.userError.timeout\n});\n\nexport default withRouter(connect(mapStateToProps, null)(App));\n/*\r\nconst userRef=await createUserProfileDocument(userAuth)\r\n\r\n          userRef.onSnapshot(snapshot=>{\r\n            setCurrentUser({\r\n                id: snapshot.id,\r\n                ...snapshot.data()\r\n          })\r\n        })\r\n        */","map":{"version":3,"sources":["D:/Web_Page/vista/Frontend/src/App.js"],"names":["React","useRef","useEffect","useState","useLocation","Switch","Redirect","withRouter","connect","AppRoute","ScrollReveal","ReactGA","About","Header","Contact","setCurrentUser","createDB","setVerify","setID","setTimeOut","Email","Payment","Profile","InfoBulletin","LayoutDefault","swal","Home","Signin","auth","firestore","initialize","process","env","REACT_APP_GA_CODE","trackPage","page","set","pageview","App","dispatch","currentUser","timeout","userAs","ID","history","childRef","location","pathname","document","body","classList","add","current","init","username","onAuthStateChanged","userAuth","emailVerified","doc","onSnapshot","snapshot","id","data","email","sendEmailVerification","signOut","mapStateToProps","state","user","createData","userError","userID"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAkCC,QAAlC,QAAkD,OAAlD;AACA,SAASC,WAAT,EAAsBC,MAAtB,EAA6BC,QAA7B,EAAuCC,UAAvC,QAAyD,kBAAzD;AACA,SAAQC,OAAR,QAAqB,aAArB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,SAAQC,cAAR,EAAuBC,QAAvB,QAAsC,yCAAtC;AACA,SAAQC,SAAR,EAAkBC,KAAlB,EAAwBC,UAAxB,EAAmCC,KAAnC,QAA+C,mDAA/C;AACA,OAAOC,OAAP,MAAoB,wCAApB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,YAAP,MAAyB,2CAAzB,C,CACA;;AACA,OAAOC,aAAP,MAA0B,yBAA1B;AACA,OAAOC,IAAP,MAAiB,YAAjB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,uCAAhC,C,CAEA;;AACAlB,OAAO,CAACmB,UAAR,CAAmBC,OAAO,CAACC,GAAR,CAAYC,iBAA/B;;AAEA,MAAMC,SAAS,GAAGC,IAAI,IAAI;AACxBxB,EAAAA,OAAO,CAACyB,GAAR,CAAY;AAAED,IAAAA;AAAF,GAAZ;AACAxB,EAAAA,OAAO,CAAC0B,QAAR,CAAiBF,IAAjB;AACD,CAHD;;AAKA,MAAMG,GAAG,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,WAAV;AAAsBC,EAAAA,OAAtB;AAA8BC,EAAAA,MAA9B;AAAqCC,EAAAA,EAArC;AAAwCC,EAAAA;AAAxC,CAAD,KAAsD;AAChE,QAAMC,QAAQ,GAAG5C,MAAM,EAAvB;AACA,MAAI6C,QAAQ,GAAG1C,WAAW,EAA1B;AACAF,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiC,IAAI,GAAGW,QAAQ,CAACC,QAAtB;AACAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,WAA5B;AACAN,IAAAA,QAAQ,CAACO,OAAT,CAAiBC,IAAjB;AACAnB,IAAAA,SAAS,CAACC,IAAD,CAAT,CAJc,CAKd;AACD,GANQ,EAMN,CAACW,QAAD,CANM,CAAT;AAQA5C,EAAAA,SAAS,CAAC,MAAI;AACZ,QAAIoD,QAAQ,GAACZ,MAAb;AACAd,IAAAA,IAAI,CAAC2B,kBAAL,CAAwB,MAAMC,QAAN,IAAgB;AACtC,UAAGA,QAAH,EAAY;AACV,YAAG5B,IAAI,CAACY,WAAL,CAAiBiB,aAApB,EAAkC;AAC9B5B,UAAAA,SAAS,CAAC6B,GAAV,CAAe,GAAEJ,QAAS,IAAGX,EAAG,EAAhC,EAAmCgB,UAAnC,CAA8CC,QAAQ,IAAE;AACtDrB,YAAAA,QAAQ,CAACxB,cAAc,CAAC;AACtB8C,cAAAA,EAAE,EAAED,QAAQ,CAACC,EADS;AAEtB,iBAAGD,QAAQ,CAACE,IAAT;AAFmB,aAAD,CAAf,CAAR;AAID,WALD;AAMAvB,UAAAA,QAAQ,CAACtB,SAAS,CAAC,KAAD,CAAV,CAAR;AACAsB,UAAAA,QAAQ,CAACnB,KAAK,CAACQ,IAAI,CAACY,WAAL,CAAiBuB,KAAlB,CAAN,CAAR;AACH,SATD,MAUI;AACFnC,UAAAA,IAAI,CAACY,WAAL,CAAiBwB,qBAAjB;AACApC,UAAAA,IAAI,CAACqC,OAAL;AACA1B,UAAAA,QAAQ,CAACrB,KAAK,CAAC,MAAD,CAAN,CAAR;AACAqB,UAAAA,QAAQ,CAACtB,SAAS,CAAC,IAAD,CAAV,CAAR;AACAsB,UAAAA,QAAQ,CAACnB,KAAK,CAAC,MAAD,CAAN,CAAR;AACD;AACF,OAlBD,MAmBKmB,QAAQ,CAACxB,cAAc,CAACyC,QAAD,CAAf,CAAR;AACR,KArBC;AAsBD,GAxBQ,EAwBP,EAxBO,CAAT;AAyBD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,sBACE,oBAAC,YAAD;AACE,IAAA,GAAG,EAAEX,QADP;AAEE,IAAA,QAAQ,EAAE,mBACR,uDACA,oBAAC,MAAD;AAAQ,MAAA,WAAW,EAAC,OAApB;AAA4B,MAAA,SAAS,EAAC,oBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,GAArB;AAAyB,MAAA,SAAS,EAAEnB,IAApC;AAA0C,MAAA,MAAM,EAAEF,aAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,QAArB;AAA8B,MAAA,SAAS,EAAEZ,KAAzC;AAAgD,MAAA,MAAM,EAAEY,aAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,UAArB;AAAgC,MAAA,SAAS,EAAEV,OAA3C;AAAoD,MAAA,MAAM,EAAEU,aAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAIE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,SAArB;AAA+B,MAAA,SAAS,EAAEG,MAA1C;AAAkD,MAAA,MAAM,EAAEH,aAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,eAKE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,UAArB;AAAgC,MAAA,SAAS,EAAEF,OAA3C;AAAoD,MAAA,MAAM,EAAEE,aAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAME,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,WAArB;AAAiC,MAAA,SAAS,EAAEH,OAA5C;AAAqD,MAAA,MAAM,EAAEG,aAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAOE,oBAAC,QAAD;AAAU,MAAA,KAAK,MAAf;AAAgB,MAAA,IAAI,EAAC,WAArB;AAAiC,MAAA,SAAS,EAAED,YAA5C;AAA0D,MAAA,MAAM,EAAEC,aAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CAFA,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAkBD,CApFD;;AAuFA,MAAM0C,eAAe,GAAEC,KAAD,KAAU;AAC9B3B,EAAAA,WAAW,EAAE2B,KAAK,CAACC,IAAN,CAAW5B,WADM;AAE9B6B,EAAAA,UAAU,EAAEF,KAAK,CAACC,IAAN,CAAWC,UAFO;AAG9B3B,EAAAA,MAAM,EAAEyB,KAAK,CAACG,SAAN,CAAgB5B,MAHM;AAI9BC,EAAAA,EAAE,EAAEwB,KAAK,CAACG,SAAN,CAAgBC,MAJU;AAK9B9B,EAAAA,OAAO,EAAE0B,KAAK,CAACG,SAAN,CAAgB7B;AALK,CAAV,CAAtB;;AASA,eAAelC,UAAU,CAACC,OAAO,CAAC0D,eAAD,EAAiB,IAAjB,CAAP,CAA8B5B,GAA9B,CAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useRef, useEffect,useState } from 'react';\r\nimport { useLocation, Switch,Redirect, withRouter } from 'react-router-dom';\r\nimport {connect} from'react-redux'\r\nimport AppRoute from './utils/AppRoute';\r\nimport ScrollReveal from './utils/ScrollReveal';\r\nimport ReactGA from 'react-ga';\r\nimport About from './my_components/About/About'\r\nimport Header from './components/layout/Header'\r\nimport Contact from './my_components/Contact/Contact'\r\nimport {setCurrentUser,createDB} from './my_components/redux/user/user-actions'\r\nimport {setVerify,setID,setTimeOut,Email} from './my_components/redux/userError/userError-actions'\r\nimport Payment from './my_components/PaymentGateway/Payment'\r\nimport Profile from './my_components/Profile/Profile'\r\nimport InfoBulletin from './my_components/InfoBulletin/InfoBulletin'\r\n// Layouts\r\nimport LayoutDefault from './layouts/LayoutDefault'\r\nimport swal from 'sweetalert'\r\n\r\n// Views \r\nimport Home from './views/Home';\r\nimport Signin from './my_components/Signin/Signin';\r\nimport { auth, firestore } from './my_components/Firebase/FirebaseSTUD';\r\n\r\n// Initialize Google Analytics\r\nReactGA.initialize(process.env.REACT_APP_GA_CODE);\r\n\r\nconst trackPage = page => {\r\n  ReactGA.set({ page });\r\n  ReactGA.pageview(page);\r\n};\r\n\r\nconst App = ({dispatch,currentUser,timeout,userAs,ID,history}) => {\r\n  const childRef = useRef();\r\n  let location = useLocation();\r\n  useEffect(() => {\r\n    const page = location.pathname;\r\n    document.body.classList.add('is-loaded')\r\n    childRef.current.init();\r\n    trackPage(page);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location]);\r\n\r\n  useEffect(()=>{\r\n    var username=userAs\r\n    auth.onAuthStateChanged(async userAuth=>{\r\n      if(userAuth){\r\n        if(auth.currentUser.emailVerified){\r\n            firestore.doc(`${username}/${ID}`).onSnapshot(snapshot=>{\r\n              dispatch(setCurrentUser({\r\n                id: snapshot.id,\r\n                ...snapshot.data()\r\n              }))\r\n            })\r\n            dispatch(setVerify(false))\r\n            dispatch(Email(auth.currentUser.email))\r\n        }\r\n        else{\r\n          auth.currentUser.sendEmailVerification()\r\n          auth.signOut()\r\n          dispatch(setID(\"abcd\"))\r\n          dispatch(setVerify(true))\r\n          dispatch(Email('abcd'))\r\n        }\r\n      }\r\n      else dispatch(setCurrentUser(userAuth))\r\n  })\r\n  },[])\r\n /* useEffect(()=>{\r\n      auth.onAuthStateChanged(async userAuth=>{\r\n        if(userAuth){\r\n          if(auth.currentUser.emailVerified){\r\n            var today=new Date()\r\n            var hour=parseInt(today.getHours())\r\n            var newHour=0\r\n            if(timeout==-1) newHour=hour+2\r\n            else newHour=timeout+2\r\n            if(newHour>=24) newHour-=24\r\n            if(newHour>=12) newHour-=12\r\n            if(hour>=12) hour-=12\r\n            if(newHour<=hour){\r\n              swal(\"TimeOut Error!\", \" Please Login Again\", \"warning\").then(res=>{\r\n                window.location.reload()\r\n              })\r\n              auth.signOut()\r\n              dispatch(setID(\"abcd\"))\r\n              dispatch(Email('abcd'))\r\n              dispatch(setTimeOut(-1))\r\n              history.push('/signup')\r\n            }\r\n            else{\r\n              console.log(\"yesssssssssssssssssssssss\",hour,\" \",newHour)\r\n              dispatch(setTimeOut(hour))\r\n            }\r\n          }\r\n        }\r\n      })\r\n  },[])*/\r\n  return (\r\n    <ScrollReveal\r\n      ref={childRef}\r\n      children={() => (\r\n        <>\r\n        <Header navPosition=\"right\" className=\"reveal-from-bottom\" />\r\n        <Switch>\r\n          <AppRoute exact path=\"/\" component={Home} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/about\" component={About} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/contact\" component={Contact} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/signup\" component={Signin} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/profile\" component={Profile} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/checkout\" component={Payment} layout={LayoutDefault} />\r\n          <AppRoute exact path=\"/bulletin\" component={InfoBulletin} layout={LayoutDefault} />\r\n        </Switch>\r\n        </>\r\n      )} />\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps=(state)=>({\r\n  currentUser: state.user.currentUser,\r\n  createData: state.user.createData,\r\n  userAs: state.userError.userAs,\r\n  ID: state.userError.userID,\r\n  timeout: state.userError.timeout\r\n})\r\n\r\n\r\nexport default withRouter(connect(mapStateToProps,null)(App))\r\n\r\n/*\r\nconst userRef=await createUserProfileDocument(userAuth)\r\n\r\n          userRef.onSnapshot(snapshot=>{\r\n            setCurrentUser({\r\n                id: snapshot.id,\r\n                ...snapshot.data()\r\n          })\r\n        })\r\n        */\r\n"]},"metadata":{},"sourceType":"module"}