{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web_Page\\\\vista\\\\Frontend\\\\src\\\\components\\\\layout\\\\Header.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link, withRouter } from 'react-router-dom';\nimport Logo from './partials/Logo';\nimport { connect } from 'react-redux';\nimport { auth } from '../../my_components/Firebase/FirebaseSTUD';\nimport { setCurrentUser } from '../../my_components/redux/user/user-actions';\nimport { setID, Email } from '../../my_components/redux/userError/userError-actions';\nimport swal from 'sweetalert';\nconst propTypes = {\n  navPosition: PropTypes.string,\n  hideNav: PropTypes.bool,\n  hideSignin: PropTypes.bool,\n  bottomOuterDivider: PropTypes.bool,\n  bottomDivider: PropTypes.bool\n};\nconst defaultProps = {\n  navPosition: '',\n  hideNav: false,\n  hideSignin: false,\n  bottomOuterDivider: false,\n  bottomDivider: false\n};\n\nconst Header = ({\n  className,\n  navPosition,\n  hideNav,\n  hideSignin,\n  bottomOuterDivider,\n  bottomDivider,\n  currentUser,\n  history,\n  dispatch,\n  ...props\n}) => {\n  const [isActive, setIsactive] = useState(false);\n  const nav = useRef(null);\n  const hamburger = useRef(null);\n  useEffect(() => {\n    isActive && openMenu();\n    document.addEventListener('keydown', keyPress);\n    document.addEventListener('click', clickOutside);\n    return () => {\n      document.removeEventListener('keydown', keyPress);\n      document.removeEventListener('click', clickOutside);\n      closeMenu();\n    };\n  });\n\n  const openMenu = () => {\n    document.body.classList.add('off-nav-is-active');\n    nav.current.style.maxHeight = nav.current.scrollHeight + 'px';\n    setIsactive(true);\n  };\n\n  const closeMenu = () => {\n    document.body.classList.remove('off-nav-is-active');\n    nav.current && (nav.current.style.maxHeight = null);\n    setIsactive(false);\n  };\n\n  const keyPress = e => {\n    isActive && e.keyCode === 27 && closeMenu();\n  };\n\n  const clickOutside = e => {\n    if (!nav.current) return;\n    if (!isActive || nav.current.contains(e.target) || e.target === hamburger.current) return;\n    closeMenu();\n  };\n\n  const classes = classNames('site-header', bottomOuterDivider && 'has-bottom-divider', className);\n\n  const handleSelect = e => {\n    swal({\n      title: \"Are you sure?\",\n      text: \"You will be logged out! Otherwise click outside the pop-up container to stay logged in!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: '#DD6B55',\n      confirmButtonText: 'Yes, I am sure!',\n      cancelButtonText: \"No, cancel it!\"\n    }).then(function (isConfirm) {\n      if (isConfirm) {\n        auth.signOut();\n        dispatch(setID(\"abcd\"));\n        dispatch(Email(\"abcd\"));\n        swal(\"Log Out!\", \"You are successfully logged out!\", \"success\");\n      } else {\n        swal(\"Cancelled\", \"You are still with vista\", \"error\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: classes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames('site-header-inner', bottomDivider && 'has-bottom-divider'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), !hideNav && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    ref: hamburger,\n    className: \"header-nav-toggle\",\n    onClick: isActive ? closeMenu : openMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"screen-reader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"Menu\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hamburger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hamburger-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"nav\", {\n    ref: nav,\n    className: classNames('header-nav', isActive && 'is-active'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-nav-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: classNames('list-reset text-xs', navPosition && `header-nav-${navPosition}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/about\",\n    onClick: closeMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 23\n    }\n  }, \"About\")), !currentUser ? /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/bulletin\",\n    onClick: closeMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 23\n    }\n  }, \"Info Bulletin\")) : null, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/contact\",\n    onClick: closeMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 24\n    }\n  }, \"Contact Us\")), currentUser ? /*#__PURE__*/React.createElement(\"select\", {\n    id: \"selectBox\",\n    style: {\n      cursor: \"pointer\"\n    },\n    onChange: e => history.push(`/${e.target.value}`),\n    className: \"button button-primary button-wide-mobile button-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"My Account\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, \"My Profile\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"bulletin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }, \"Info Bulletin\")) : null), !hideSignin && /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-reset header-nav-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 23\n    }\n  }, currentUser ? /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"button button-primary button-wide-mobile button-sm\",\n    onClick: handleSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 27\n    }\n  }, \"Sign Out\") : /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    className: \"button button-primary button-wide-mobile button-sm\",\n    onClick: closeMenu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 28\n    }\n  }, \"Login\")))))))));\n};\n\nHeader.propTypes = propTypes;\nHeader.defaultProps = defaultProps;\n\nconst mapStateToProps = ({\n  user\n}) => ({\n  currentUser: user.currentUser\n});\n\nexport default withRouter(connect(mapStateToProps, null)(Header));","map":{"version":3,"sources":["D:/Web_Page/vista/Frontend/src/components/layout/Header.js"],"names":["React","useState","useRef","useEffect","PropTypes","classNames","Link","withRouter","Logo","connect","auth","setCurrentUser","setID","Email","swal","propTypes","navPosition","string","hideNav","bool","hideSignin","bottomOuterDivider","bottomDivider","defaultProps","Header","className","currentUser","history","dispatch","props","isActive","setIsactive","nav","hamburger","openMenu","document","addEventListener","keyPress","clickOutside","removeEventListener","closeMenu","body","classList","add","current","style","maxHeight","scrollHeight","remove","e","keyCode","contains","target","classes","handleSelect","title","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","then","isConfirm","signOut","cursor","push","value","mapStateToProps","user"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,IAAT,QAAqB,2CAArB;AACA,SAASC,cAAT,QAA+B,6CAA/B;AACA,SAAQC,KAAR,EAAcC,KAAd,QAA0B,uDAA1B;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,WAAW,EAAEZ,SAAS,CAACa,MADP;AAEhBC,EAAAA,OAAO,EAAEd,SAAS,CAACe,IAFH;AAGhBC,EAAAA,UAAU,EAAEhB,SAAS,CAACe,IAHN;AAIhBE,EAAAA,kBAAkB,EAAEjB,SAAS,CAACe,IAJd;AAKhBG,EAAAA,aAAa,EAAElB,SAAS,CAACe;AALT,CAAlB;AAQA,MAAMI,YAAY,GAAG;AACnBP,EAAAA,WAAW,EAAE,EADM;AAEnBE,EAAAA,OAAO,EAAE,KAFU;AAGnBE,EAAAA,UAAU,EAAE,KAHO;AAInBC,EAAAA,kBAAkB,EAAE,KAJD;AAKnBC,EAAAA,aAAa,EAAE;AALI,CAArB;;AAQA,MAAME,MAAM,GAAG,CAAC;AACdC,EAAAA,SADc;AAEdT,EAAAA,WAFc;AAGdE,EAAAA,OAHc;AAIdE,EAAAA,UAJc;AAKdC,EAAAA,kBALc;AAMdC,EAAAA,aANc;AAOdI,EAAAA,WAPc;AAQdC,EAAAA,OARc;AASdC,EAAAA,QATc;AAUd,KAAGC;AAVW,CAAD,KAWT;AAEJ,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM+B,GAAG,GAAG9B,MAAM,CAAC,IAAD,CAAlB;AACA,QAAM+B,SAAS,GAAG/B,MAAM,CAAC,IAAD,CAAxB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd2B,IAAAA,QAAQ,IAAII,QAAQ,EAApB;AACAC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCC,QAArC;AACAF,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCE,YAAnC;AACA,WAAO,MAAM;AACXH,MAAAA,QAAQ,CAACI,mBAAT,CAA6B,SAA7B,EAAwCF,QAAxC;AACAF,MAAAA,QAAQ,CAACI,mBAAT,CAA6B,OAA7B,EAAsCD,YAAtC;AACAE,MAAAA,SAAS;AACV,KAJD;AAKD,GATQ,CAAT;;AAWA,QAAMN,QAAQ,GAAG,MAAM;AACrBC,IAAAA,QAAQ,CAACM,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,mBAA5B;AACAX,IAAAA,GAAG,CAACY,OAAJ,CAAYC,KAAZ,CAAkBC,SAAlB,GAA8Bd,GAAG,CAACY,OAAJ,CAAYG,YAAZ,GAA2B,IAAzD;AACAhB,IAAAA,WAAW,CAAC,IAAD,CAAX;AACD,GAJD;;AAMA,QAAMS,SAAS,GAAG,MAAM;AACtBL,IAAAA,QAAQ,CAACM,IAAT,CAAcC,SAAd,CAAwBM,MAAxB,CAA+B,mBAA/B;AACAhB,IAAAA,GAAG,CAACY,OAAJ,KAAgBZ,GAAG,CAACY,OAAJ,CAAYC,KAAZ,CAAkBC,SAAlB,GAA8B,IAA9C;AACAf,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD,GAJD;;AAMA,QAAMM,QAAQ,GAAIY,CAAD,IAAO;AACtBnB,IAAAA,QAAQ,IAAImB,CAAC,CAACC,OAAF,KAAc,EAA1B,IAAgCV,SAAS,EAAzC;AACD,GAFD;;AAIA,QAAMF,YAAY,GAAIW,CAAD,IAAO;AAC1B,QAAI,CAACjB,GAAG,CAACY,OAAT,EAAkB;AAClB,QAAI,CAACd,QAAD,IAAaE,GAAG,CAACY,OAAJ,CAAYO,QAAZ,CAAqBF,CAAC,CAACG,MAAvB,CAAb,IAA+CH,CAAC,CAACG,MAAF,KAAanB,SAAS,CAACW,OAA1E,EAAmF;AACnFJ,IAAAA,SAAS;AACV,GAJD;;AAMA,QAAMa,OAAO,GAAGhD,UAAU,CACxB,aADwB,EAExBgB,kBAAkB,IAAI,oBAFE,EAGxBI,SAHwB,CAA1B;;AAKA,QAAM6B,YAAY,GAAEL,CAAD,IAAK;AACtBnC,IAAAA,IAAI,CAAC;AACHyC,MAAAA,KAAK,EAAE,eADJ;AAEHC,MAAAA,IAAI,EAAE,yFAFH;AAGHC,MAAAA,IAAI,EAAE,SAHH;AAIHC,MAAAA,gBAAgB,EAAE,IAJf;AAKHC,MAAAA,kBAAkB,EAAE,SALjB;AAMHC,MAAAA,iBAAiB,EAAE,iBANhB;AAOHC,MAAAA,gBAAgB,EAAE;AAPf,KAAD,CAAJ,CAQEC,IARF,CASI,UAASC,SAAT,EAAmB;AAEjB,UAAIA,SAAJ,EAAc;AACZrD,QAAAA,IAAI,CAACsD,OAAL;AACApC,QAAAA,QAAQ,CAAChB,KAAK,CAAC,MAAD,CAAN,CAAR;AACAgB,QAAAA,QAAQ,CAACf,KAAK,CAAC,MAAD,CAAN,CAAR;AACAC,QAAAA,IAAI,CAAC,UAAD,EAAa,kCAAb,EAAiD,SAAjD,CAAJ;AAED,OAND,MAMO;AACLA,QAAAA,IAAI,CAAC,WAAD,EAAc,0BAAd,EAA0C,OAA1C,CAAJ;AACD;AACF,KApBL;AAqBD,GAtBD;;AAuBA,sBACE;AACE,IAAA,SAAS,EAAEuC,OADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EACZhD,UAAU,CACR,mBADQ,EAERiB,aAAa,IAAI,oBAFT,CADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAMG,CAACJ,OAAD,iBACC,uDACE;AACE,IAAA,GAAG,EAAEe,SADP;AAEE,IAAA,SAAS,EAAC,mBAFZ;AAGE,IAAA,OAAO,EAAEH,QAAQ,GAAGU,SAAH,GAAeN,QAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CADF,eAWE;AACE,IAAA,GAAG,EAAEF,GADP;AAEE,IAAA,SAAS,EACP3B,UAAU,CACR,YADQ,EAERyB,QAAQ,IAAI,WAFJ,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EACXzB,UAAU,CACR,oBADQ,EAERW,WAAW,IAAK,cAAaA,WAAY,EAFjC,CADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,QAAT;AAAkB,IAAA,OAAO,EAAEwB,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CALF,EASI,CAACd,WAAD,gBAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACd,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAqB,IAAA,OAAO,EAAEc,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADc,CAAd,GAEI,IAXR,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACG,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,UAAT;AAAoB,IAAA,OAAO,EAAEA,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADH,CAbF,EAiBId,WAAW,gBACX;AAAQ,IAAA,EAAE,EAAC,WAAX;AAAuB,IAAA,KAAK,EAAE;AAACuC,MAAAA,MAAM,EAAC;AAAR,KAA9B;AAAkD,IAAA,QAAQ,EAAGhB,CAAD,IAAKtB,OAAO,CAACuC,IAAR,CAAc,IAAGjB,CAAC,CAACG,MAAF,CAASe,KAAM,EAAhC,CAAjE;AAAqG,IAAA,SAAS,EAAC,oDAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAQ,IAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADN,eAEM;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFN,eAGM;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHN,CADW,GAKG,IAtBlB,CADF,EA0BG,CAAC/C,UAAD,iBACC;AACE,IAAA,SAAS,EAAC,6BADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIM,WAAW,gBACX,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAa,IAAA,SAAS,EAAC,oDAAvB;AAA4E,IAAA,OAAO,EAAE4B,YAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADW,gBAEV,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,SAAT;AAAmB,IAAA,SAAS,EAAC,oDAA7B;AAAkF,IAAA,OAAO,EAAEd,SAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJL,CAHF,CA3BJ,CAPF,CAXF,CAPJ,CADF,CAHF,CADF;AA2ED,CA1JD;;AA4JAhB,MAAM,CAACT,SAAP,GAAmBA,SAAnB;AACAS,MAAM,CAACD,YAAP,GAAsBA,YAAtB;;AAEA,MAAM6C,eAAe,GAAC,CAAC;AAACC,EAAAA;AAAD,CAAD,MAAW;AAC/B3C,EAAAA,WAAW,EAAE2C,IAAI,CAAC3C;AADa,CAAX,CAAtB;;AAIA,eAAenB,UAAU,CAACE,OAAO,CAAC2D,eAAD,EAAiB,IAAjB,CAAP,CAA8B5C,MAA9B,CAAD,CAAzB","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Logo from './partials/Logo';\r\nimport {connect} from 'react-redux'\r\nimport { auth } from '../../my_components/Firebase/FirebaseSTUD';\r\nimport { setCurrentUser } from '../../my_components/redux/user/user-actions';\r\nimport {setID,Email} from '../../my_components/redux/userError/userError-actions'\r\nimport swal from 'sweetalert'\r\nconst propTypes = {\r\n  navPosition: PropTypes.string,\r\n  hideNav: PropTypes.bool,\r\n  hideSignin: PropTypes.bool,\r\n  bottomOuterDivider: PropTypes.bool,\r\n  bottomDivider: PropTypes.bool\r\n}\r\n\r\nconst defaultProps = {\r\n  navPosition: '',\r\n  hideNav: false,\r\n  hideSignin: false,\r\n  bottomOuterDivider: false,\r\n  bottomDivider: false\r\n}\r\n\r\nconst Header = ({\r\n  className,\r\n  navPosition,\r\n  hideNav,\r\n  hideSignin,\r\n  bottomOuterDivider,\r\n  bottomDivider,\r\n  currentUser,\r\n  history,\r\n  dispatch,\r\n  ...props\r\n}) => {\r\n\r\n  const [isActive, setIsactive] = useState(false);\r\n\r\n  const nav = useRef(null);\r\n  const hamburger = useRef(null);\r\n\r\n  useEffect(() => {\r\n    isActive && openMenu();\r\n    document.addEventListener('keydown', keyPress);\r\n    document.addEventListener('click', clickOutside);\r\n    return () => {\r\n      document.removeEventListener('keydown', keyPress);\r\n      document.removeEventListener('click', clickOutside);\r\n      closeMenu();\r\n    };\r\n  });  \r\n\r\n  const openMenu = () => {\r\n    document.body.classList.add('off-nav-is-active');\r\n    nav.current.style.maxHeight = nav.current.scrollHeight + 'px';\r\n    setIsactive(true);\r\n  }\r\n\r\n  const closeMenu = () => {\r\n    document.body.classList.remove('off-nav-is-active');\r\n    nav.current && (nav.current.style.maxHeight = null);\r\n    setIsactive(false);\r\n  }\r\n\r\n  const keyPress = (e) => {\r\n    isActive && e.keyCode === 27 && closeMenu();\r\n  }\r\n\r\n  const clickOutside = (e) => {\r\n    if (!nav.current) return\r\n    if (!isActive || nav.current.contains(e.target) || e.target === hamburger.current) return;\r\n    closeMenu();\r\n  }  \r\n\r\n  const classes = classNames(\r\n    'site-header',\r\n    bottomOuterDivider && 'has-bottom-divider',\r\n    className\r\n  );\r\n  const handleSelect=(e)=>{\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"You will be logged out! Otherwise click outside the pop-up container to stay logged in!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#DD6B55',\r\n      confirmButtonText: 'Yes, I am sure!',\r\n      cancelButtonText: \"No, cancel it!\"\r\n   }).then(\r\n        function(isConfirm){\r\n\r\n          if (isConfirm){\r\n            auth.signOut()\r\n            dispatch(setID(\"abcd\"))\r\n            dispatch(Email(\"abcd\"))\r\n            swal(\"Log Out!\", \"You are successfully logged out!\", \"success\");\r\n      \r\n          } else {\r\n            swal(\"Cancelled\", \"You are still with vista\", \"error\");\r\n          }\r\n        })\r\n  }\r\n  return (\r\n    <header\r\n      className={classes}\r\n    >\r\n      <div className=\"container\">\r\n        <div className={\r\n          classNames(\r\n            'site-header-inner',\r\n            bottomDivider && 'has-bottom-divider'\r\n          )}>\r\n          <Logo />\r\n          {!hideNav &&\r\n            <>\r\n              <button\r\n                ref={hamburger}\r\n                className=\"header-nav-toggle\"\r\n                onClick={isActive ? closeMenu : openMenu}\r\n              >\r\n                <span className=\"screen-reader\">Menu</span>\r\n                <span className=\"hamburger\">\r\n                  <span className=\"hamburger-inner\"></span>\r\n                </span>\r\n              </button>\r\n              <nav\r\n                ref={nav}\r\n                className={\r\n                  classNames(\r\n                    'header-nav',\r\n                    isActive && 'is-active'\r\n                  )}>\r\n                <div className=\"header-nav-inner\">\r\n                  <ul className={\r\n                    classNames(\r\n                      'list-reset text-xs',\r\n                      navPosition && `header-nav-${navPosition}`\r\n                    )}>\r\n                    <li>\r\n                      <Link to=\"/about\" onClick={closeMenu}>About</Link>\r\n                    </li>\r\n                    {\r\n                      !currentUser? <li>\r\n                      <Link to=\"/bulletin\" onClick={closeMenu}>Info Bulletin</Link>\r\n                   </li>: null\r\n                    } \r\n                    <li>\r\n                       <Link to=\"/contact\" onClick={closeMenu}>Contact Us</Link>\r\n                    </li>\r\n                    {\r\n                      currentUser?\r\n                      <select id=\"selectBox\" style={{cursor:\"pointer\"}} onChange={(e)=>history.push(`/${e.target.value}`)} className=\"button button-primary button-wide-mobile button-sm\">\r\n                            <option value=\"\">My Account</option>\r\n                            <option value=\"profile\">My Profile</option>\r\n                            <option value=\"bulletin\">Info Bulletin</option>\r\n                          </select>:null\r\n                    }\r\n                  </ul>\r\n                  {!hideSignin &&\r\n                    <ul\r\n                      className=\"list-reset header-nav-right\"\r\n                    >\r\n                      <li>\r\n                        {\r\n                          currentUser ?\r\n                          <Link to=\"/\" className=\"button button-primary button-wide-mobile button-sm\" onClick={handleSelect}>Sign Out</Link>\r\n                          :<Link to=\"/signup\" className=\"button button-primary button-wide-mobile button-sm\" onClick={closeMenu}>Login</Link>\r\n                        }\r\n                      </li>\r\n                    </ul>}\r\n                </div>\r\n              </nav>\r\n            </>}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.propTypes = propTypes;\r\nHeader.defaultProps = defaultProps;\r\n\r\nconst mapStateToProps=({user})=>({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps,null)(Header))\r\n"]},"metadata":{},"sourceType":"module"}