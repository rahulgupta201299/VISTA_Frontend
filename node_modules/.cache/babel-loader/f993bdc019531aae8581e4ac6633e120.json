{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web_Page\\\\vista\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:\\\\Web_Page\\\\vista\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useRef,useEffect}from'react';import classNames from'classnames';import{Link,withRouter}from'react-router-dom';import Logo from'./partials/Logo';import{connect}from'react-redux';import{auth}from'../../my_components/Firebase/FirebaseSTUD';import{setCurrentUser}from'../../my_components/redux/user/user-actions';import{setID,Email}from'../../my_components/redux/userError/userError-actions';import swal from'sweetalert';var defaultProps={navPosition:'',hideNav:false,hideSignin:false,bottomOuterDivider:false,bottomDivider:false};var Header=function Header(_ref){var className=_ref.className,navPosition=_ref.navPosition,hideNav=_ref.hideNav,hideSignin=_ref.hideSignin,bottomOuterDivider=_ref.bottomOuterDivider,bottomDivider=_ref.bottomDivider,currentUser=_ref.currentUser,history=_ref.history,dispatch=_ref.dispatch,props=_objectWithoutProperties(_ref,[\"className\",\"navPosition\",\"hideNav\",\"hideSignin\",\"bottomOuterDivider\",\"bottomDivider\",\"currentUser\",\"history\",\"dispatch\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isActive=_useState2[0],setIsactive=_useState2[1];var nav=useRef(null);var hamburger=useRef(null);useEffect(function(){isActive&&openMenu();document.addEventListener('keydown',keyPress);document.addEventListener('click',clickOutside);return function(){document.removeEventListener('keydown',keyPress);document.removeEventListener('click',clickOutside);closeMenu();};});var openMenu=function openMenu(){document.body.classList.add('off-nav-is-active');nav.current.style.maxHeight=nav.current.scrollHeight+'px';setIsactive(true);};var closeMenu=function closeMenu(){document.body.classList.remove('off-nav-is-active');nav.current&&(nav.current.style.maxHeight=null);setIsactive(false);};var keyPress=function keyPress(e){isActive&&e.keyCode===27&&closeMenu();};var clickOutside=function clickOutside(e){if(!nav.current)return;if(!isActive||nav.current.contains(e.target)||e.target===hamburger.current)return;closeMenu();};var classes=classNames('site-header',bottomOuterDivider&&'has-bottom-divider',className);var handleSelect=function handleSelect(e){swal({title:\"Are you sure?\",text:\"You will be logged out! Otherwise click outside the pop-up container to stay logged in!\",icon:\"warning\",showCancelButton:true,confirmButtonColor:'#DD6B55',confirmButtonText:'Yes, I am sure!',cancelButtonText:\"No, cancel it!\"}).then(function(isConfirm){if(isConfirm){auth.signOut();dispatch(setID(\"abcd\"));dispatch(Email(\"abcd\"));swal(\"Log Out!\",\"You are successfully logged out!\",\"success\");}else{swal(\"Cancelled\",\"You are still with vista\",\"error\");}});};return/*#__PURE__*/React.createElement(\"header\",{className:classes},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:classNames('site-header-inner',bottomDivider&&'has-bottom-divider')},/*#__PURE__*/React.createElement(Logo,null),!hideNav&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{ref:hamburger,className:\"header-nav-toggle\",onClick:isActive?closeMenu:openMenu},/*#__PURE__*/React.createElement(\"span\",{className:\"screen-reader\"},\"Menu\"),/*#__PURE__*/React.createElement(\"span\",{className:\"hamburger\"},/*#__PURE__*/React.createElement(\"span\",{className:\"hamburger-inner\"}))),/*#__PURE__*/React.createElement(\"nav\",{ref:nav,className:classNames('header-nav',isActive&&'is-active')},/*#__PURE__*/React.createElement(\"div\",{className:\"header-nav-inner\"},/*#__PURE__*/React.createElement(\"ul\",{className:classNames('list-reset text-xs',navPosition&&\"header-nav-\".concat(navPosition))},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/about\",onClick:closeMenu},\"About\")),!currentUser?/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/bulletin\",onClick:closeMenu},\"Info Bulletin\")):null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/contact\",onClick:closeMenu},\"Contact Us\")),currentUser?/*#__PURE__*/React.createElement(\"select\",{id:\"selectBox\",style:{cursor:\"pointer\"},onChange:function onChange(e){return history.push(\"/\".concat(e.target.value));},className:\"button button-primary button-wide-mobile button-sm\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"My Account\"),/*#__PURE__*/React.createElement(\"option\",{value:\"profile\"},\"My Profile\"),/*#__PURE__*/React.createElement(\"option\",{value:\"bulletin\"},\"Info Bulletin\")):null),!hideSignin&&/*#__PURE__*/React.createElement(\"ul\",{className:\"list-reset header-nav-right\"},/*#__PURE__*/React.createElement(\"li\",null,currentUser?/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"button button-primary button-wide-mobile button-sm\",onClick:handleSelect},\"Sign Out\"):/*#__PURE__*/React.createElement(Link,{to:\"/signup\",className:\"button button-primary button-wide-mobile button-sm\",onClick:closeMenu},\"Login\")))))))));};Header.defaultProps=defaultProps;var mapStateToProps=function mapStateToProps(_ref2){var user=_ref2.user;return{currentUser:user.currentUser};};export default withRouter(connect(mapStateToProps,null)(Header));","map":{"version":3,"sources":["D:/Web_Page/vista/Frontend/src/components/layout/Header.js"],"names":["React","useState","useRef","useEffect","classNames","Link","withRouter","Logo","connect","auth","setCurrentUser","setID","Email","swal","defaultProps","navPosition","hideNav","hideSignin","bottomOuterDivider","bottomDivider","Header","className","currentUser","history","dispatch","props","isActive","setIsactive","nav","hamburger","openMenu","document","addEventListener","keyPress","clickOutside","removeEventListener","closeMenu","body","classList","add","current","style","maxHeight","scrollHeight","remove","e","keyCode","contains","target","classes","handleSelect","title","text","icon","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","then","isConfirm","signOut","cursor","push","value","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Logo from './partials/Logo';\r\nimport {connect} from 'react-redux'\r\nimport { auth } from '../../my_components/Firebase/FirebaseSTUD';\r\nimport { setCurrentUser } from '../../my_components/redux/user/user-actions';\r\nimport {setID,Email} from '../../my_components/redux/userError/userError-actions'\r\nimport swal from 'sweetalert'\r\nconst propTypes = {\r\n  navPosition: PropTypes.string,\r\n  hideNav: PropTypes.bool,\r\n  hideSignin: PropTypes.bool,\r\n  bottomOuterDivider: PropTypes.bool,\r\n  bottomDivider: PropTypes.bool\r\n}\r\n\r\nconst defaultProps = {\r\n  navPosition: '',\r\n  hideNav: false,\r\n  hideSignin: false,\r\n  bottomOuterDivider: false,\r\n  bottomDivider: false\r\n}\r\n\r\nconst Header = ({\r\n  className,\r\n  navPosition,\r\n  hideNav,\r\n  hideSignin,\r\n  bottomOuterDivider,\r\n  bottomDivider,\r\n  currentUser,\r\n  history,\r\n  dispatch,\r\n  ...props\r\n}) => {\r\n\r\n  const [isActive, setIsactive] = useState(false);\r\n\r\n  const nav = useRef(null);\r\n  const hamburger = useRef(null);\r\n\r\n  useEffect(() => {\r\n    isActive && openMenu();\r\n    document.addEventListener('keydown', keyPress);\r\n    document.addEventListener('click', clickOutside);\r\n    return () => {\r\n      document.removeEventListener('keydown', keyPress);\r\n      document.removeEventListener('click', clickOutside);\r\n      closeMenu();\r\n    };\r\n  });  \r\n\r\n  const openMenu = () => {\r\n    document.body.classList.add('off-nav-is-active');\r\n    nav.current.style.maxHeight = nav.current.scrollHeight + 'px';\r\n    setIsactive(true);\r\n  }\r\n\r\n  const closeMenu = () => {\r\n    document.body.classList.remove('off-nav-is-active');\r\n    nav.current && (nav.current.style.maxHeight = null);\r\n    setIsactive(false);\r\n  }\r\n\r\n  const keyPress = (e) => {\r\n    isActive && e.keyCode === 27 && closeMenu();\r\n  }\r\n\r\n  const clickOutside = (e) => {\r\n    if (!nav.current) return\r\n    if (!isActive || nav.current.contains(e.target) || e.target === hamburger.current) return;\r\n    closeMenu();\r\n  }  \r\n\r\n  const classes = classNames(\r\n    'site-header',\r\n    bottomOuterDivider && 'has-bottom-divider',\r\n    className\r\n  );\r\n  const handleSelect=(e)=>{\r\n    swal({\r\n      title: \"Are you sure?\",\r\n      text: \"You will be logged out! Otherwise click outside the pop-up container to stay logged in!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#DD6B55',\r\n      confirmButtonText: 'Yes, I am sure!',\r\n      cancelButtonText: \"No, cancel it!\"\r\n   }).then(\r\n        function(isConfirm){\r\n\r\n          if (isConfirm){\r\n            auth.signOut()\r\n            dispatch(setID(\"abcd\"))\r\n            dispatch(Email(\"abcd\"))\r\n            swal(\"Log Out!\", \"You are successfully logged out!\", \"success\");\r\n      \r\n          } else {\r\n            swal(\"Cancelled\", \"You are still with vista\", \"error\");\r\n          }\r\n        })\r\n  }\r\n  return (\r\n    <header\r\n      className={classes}\r\n    >\r\n      <div className=\"container\">\r\n        <div className={\r\n          classNames(\r\n            'site-header-inner',\r\n            bottomDivider && 'has-bottom-divider'\r\n          )}>\r\n          <Logo />\r\n          {!hideNav &&\r\n            <>\r\n              <button\r\n                ref={hamburger}\r\n                className=\"header-nav-toggle\"\r\n                onClick={isActive ? closeMenu : openMenu}\r\n              >\r\n                <span className=\"screen-reader\">Menu</span>\r\n                <span className=\"hamburger\">\r\n                  <span className=\"hamburger-inner\"></span>\r\n                </span>\r\n              </button>\r\n              <nav\r\n                ref={nav}\r\n                className={\r\n                  classNames(\r\n                    'header-nav',\r\n                    isActive && 'is-active'\r\n                  )}>\r\n                <div className=\"header-nav-inner\">\r\n                  <ul className={\r\n                    classNames(\r\n                      'list-reset text-xs',\r\n                      navPosition && `header-nav-${navPosition}`\r\n                    )}>\r\n                    <li>\r\n                      <Link to=\"/about\" onClick={closeMenu}>About</Link>\r\n                    </li>\r\n                    {\r\n                      !currentUser? <li>\r\n                      <Link to=\"/bulletin\" onClick={closeMenu}>Info Bulletin</Link>\r\n                   </li>: null\r\n                    } \r\n                    <li>\r\n                       <Link to=\"/contact\" onClick={closeMenu}>Contact Us</Link>\r\n                    </li>\r\n                    {\r\n                      currentUser?\r\n                      <select id=\"selectBox\" style={{cursor:\"pointer\"}} onChange={(e)=>history.push(`/${e.target.value}`)} className=\"button button-primary button-wide-mobile button-sm\">\r\n                            <option value=\"\">My Account</option>\r\n                            <option value=\"profile\">My Profile</option>\r\n                            <option value=\"bulletin\">Info Bulletin</option>\r\n                          </select>:null\r\n                    }\r\n                  </ul>\r\n                  {!hideSignin &&\r\n                    <ul\r\n                      className=\"list-reset header-nav-right\"\r\n                    >\r\n                      <li>\r\n                        {\r\n                          currentUser ?\r\n                          <Link to=\"/\" className=\"button button-primary button-wide-mobile button-sm\" onClick={handleSelect}>Sign Out</Link>\r\n                          :<Link to=\"/signup\" className=\"button button-primary button-wide-mobile button-sm\" onClick={closeMenu}>Login</Link>\r\n                        }\r\n                      </li>\r\n                    </ul>}\r\n                </div>\r\n              </nav>\r\n            </>}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.propTypes = propTypes;\r\nHeader.defaultProps = defaultProps;\r\n\r\nconst mapStateToProps=({user})=>({\r\n  currentUser: user.currentUser\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps,null)(Header))\r\n"]},"metadata":{},"sourceType":"module"}